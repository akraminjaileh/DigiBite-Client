<div class="container">
    <div class="grid justify-content-center">

        <!--Items Name-->
        <div class="m-2 p-3 card  col">
            <div *ngFor="let ci of cart?.cartItems let i=index">
                <div class="flex justify-content-between align-items-center mx-2 font-semibold text-color-secondary">
                    <span class="text-base font-bold">
                        {{ci.itemInCart.name}}
                        <span class="text-xs">
                            {{' x ' + ci.quantity}}
                        </span>
                    </span>

                    <span class="text-sm text-primary">
                        {{('Currency' | translate) + totalPrice(ci)}}
                    </span>
                </div>
                <hr *ngIf="cart?.cartItems?.length != i+1">
            </div>

        </div>

        <!--Payment Summary-->
        <div class="m-2 p-3 card  col">
            <!--voucher-->
            <div *ngIf="voucher" class="flex gap-3 mb-2">
                <div *ngFor="let v of voucher" class="card w-3 align-items-center">
                    <i (click)="op.toggle($event)"
                        class="pi pi-info-circle text-primary absolute top-0 right-0 m-1"></i>
                    <span class="text-xl text-warning font-semibold mt-2">
                        {{v.code}}
                        <p-divider></p-divider>
                    </span>
                    <span>
                        {{v.discountAmount +(v.isPercentage?'% OFF':'JD OFF')}}
                    </span>
                    <span>
                        Above {{v.minimumOrderAmount}} JD
                    </span>
                    <span class="my-2">
                        <p-button [disabled]="isDisabled && (v.id != cart?.voucherId)"
                            (onClick)="isDisabled?removeVoucher(): applyVoucher(v.id)" [label]="label"
                            [styleClass]=" isDisabled?'p-button-outlined p-button-danger':'p-button-outlined'"></p-button>
                    </span>
                    <!--Voucher info-->
                    <p-overlayPanel #op>
                        <ng-template pTemplate="content">
                            <div class="text-sm font-semibold">
                                <p>
                                    Code:
                                    <span class="font-normal text-secondary">{{v.code}}</span>
                                </p>
                                <p>
                                    Discount Amount:
                                    <span class="font-normal text-secondary">{{v.discountAmount +
                                        (v.isPercentage?'%':'JD')}}</span>
                                </p>
                                <p>
                                    Minimum Order Amount:
                                    <span class="font-normal text-secondary">{{v.minimumOrderAmount}}</span>
                                </p>
                                <p>
                                    You can use it
                                    <span class="text-primary">{{' '+v.usagesLeft+' '}}</span>
                                    times.
                                </p>
                                <p>
                                    Start Date:
                                    <span class="font-normal text-secondary">
                                        {{ v.scheduleStartDate | date:'MMM d, h:mm a' }}
                                    </span>
                                </p>
                                <p>
                                    Exp on:
                                    <span class="font-normal text-secondary">{{ v.expirationDate | date:'MMM d, h:mm a'
                                        }}</span>
                                </p>
                            </div>
                        </ng-template>
                    </p-overlayPanel>
                </div>
            </div>
            <!--Payment Method-->
            <div class="my-3">
                <p class="text-base font-bold">Payment Method</p>
                <div *ngFor="let p of paymentMethod" class="card mb-1 flex flex-row justify-content-between w-6 p-3"
                    [ngClass]="{'border-primary': p.value == paymentValue}">
                    <span>
                        <i [class]="p.icon"></i>
                        {{p.name}}
                    </span>

                    <p-radioButton [value]="p.value" [(ngModel)]="paymentValue"></p-radioButton>
                </div>
            </div>
            <!--Order Note-->
            <span class="p-float-label">
                <textarea [(ngModel)]="note" id="order-note" rows="5" cols="30" pInputTextarea></textarea>
                <label for="order-note">Order Note</label>
            </span>

            <h2 class="text-base font-bold">
                Payment Summary
            </h2>
            <!--Subtotal-->
            <div class="flex justify-content-between  flex-wrap">
                <span class="text-color-secondary text-xs">Subtotal</span>
                <span class="text-xs text-primary">
                    {{cart?.subtotal + ('Currency' | translate)}}
                </span>
            </div>
            <!--Service Fee-->
            <div *ngIf="cart?.serviceFee" class="flex justify-content-between  flex-wrap">
                <span class="text-color-secondary text-xs">Service Fee</span>
                <span class="text-xs text-primary">
                    {{cart?.serviceFee + ('Currency' | translate)}}
                </span>
            </div>
            <!--Delivery Fee-->
            <div *ngIf="cart?.deliveryFee" class="flex justify-content-between  flex-wrap">
                <span class="text-color-secondary text-xs">Delivery Fee</span>
                <span class="text-xs text-primary">
                    {{cart?.deliveryFee + ('Currency' | translate)}}
                </span>
            </div>
            <!--Discount-->
            <div *ngIf="cart?.discount" class="flex justify-content-between  flex-wrap">
                <span class="text-color-secondary text-xs">Discount</span>
                <span class="text-xs text-primary">
                    {{cart?.discount + ('Currency' | translate)}}
                </span>
            </div>
            <!--Voucher Discount-->
            <div *ngIf="cart?.voucherDiscount" class="flex justify-content-between  flex-wrap">
                <span class="text-color-secondary text-xs">Voucher Discount</span>
                <span class="text-xs text-primary">
                    {{cart?.voucherDiscount + ('Currency' | translate)}}
                </span>
            </div>
            <!--Total Amount-->
            <div class="flex justify-content-between  flex-wrap">
                <span class="text-xs font-semibold">Total Amount</span>
                <span class="text-xs text-primary font-semibold">
                    {{cart?.totalAmount + ('Currency' | translate)}}
                </span>
            </div>
            <!--Checkout-->
            <div>
                <button pButton pRipple [label]="('Checkout' | translate) +'&emsp;&emsp;&emsp;'
             +(cart?.totalAmount) + ('Currency' | translate)" class="p-button w-100 mt-5"></button>
            </div>
        </div>

    </div>


</div>